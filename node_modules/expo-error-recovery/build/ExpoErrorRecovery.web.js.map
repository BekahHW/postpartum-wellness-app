{"version":3,"file":"ExpoErrorRecovery.web.js","sourceRoot":"","sources":["../src/ExpoErrorRecovery.web.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,+BAA+B,CAAC;AAC1D,MAAM,iBAAiB,GAAG,6BAA6B,CAAC;AAExD,SAAS,qBAAqB;IAC5B,IAAI,CAAC,SAAS;QAAE,OAAO,IAAI,CAAC;IAC5B,IAAI;QACF,MAAM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QACtD,YAAY,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;QAC3C,OAAO,KAAK,CAAC;KACd;IAAC,OAAO,CAAC,EAAE;QACV,8EAA8E;KAC/E;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAED,eAAe;IACb,IAAI,IAAI;QACN,OAAO,mBAAmB,CAAC;IAC7B,CAAC;IAED,iBAAiB,CAAC,KAAa;QAC7B,IAAI,CAAC,SAAS;YAAE,OAAO;QACvB,IAAI;YACF,YAAY,CAAC,OAAO,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;SAChD;QAAC,OAAO,CAAC,EAAE;YACV,8EAA8E;SAC/E;IACH,CAAC;IAED,cAAc,EAAE,qBAAqB,EAAE;CACxC,CAAC","sourcesContent":["import { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nconst LOCAL_STORAGE_KEY = 'EXPO_ERROR_RECOVERY_STORAGE';\n\nfunction _consumeRecoveryProps(): string | null {\n  if (!canUseDOM) return null;\n  try {\n    const props = localStorage.getItem(LOCAL_STORAGE_KEY);\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    return props;\n  } catch (e) {\n    // Catches localStorage SecurityError https://github.com/expo/expo/issues/8355\n  }\n  return null;\n}\n\nexport default {\n  get name(): string {\n    return 'ExpoErrorRecovery';\n  },\n\n  saveRecoveryProps(props: string): void {\n    if (!canUseDOM) return;\n    try {\n      localStorage.setItem(LOCAL_STORAGE_KEY, props);\n    } catch (e) {\n      // Catches localStorage SecurityError https://github.com/expo/expo/issues/8355\n    }\n  },\n\n  recoveredProps: _consumeRecoveryProps(),\n};\n"]}