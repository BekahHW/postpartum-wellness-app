"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Strings_1 = require("./Strings");
function getName(config) {
    return typeof config.name === 'string' ? config.name : null;
}
exports.getName = getName;
/**
 * Changes the display name on the home screen,
 * notifications, and others.
 */
async function setName(configOrName, projectDirectory) {
    let name = null;
    if (typeof configOrName === 'string') {
        name = configOrName;
    }
    else {
        name = getName(configOrName);
    }
    if (!name) {
        // TODO: Maybe just remove the value from strings instead?
        return false;
    }
    const stringsPath = await Strings_1.getProjectStringsXMLPathAsync(projectDirectory);
    if (!stringsPath) {
        throw new Error(`There was a problem setting your Facebook App ID in ${stringsPath}.`);
    }
    let stringsJSON = await Strings_1.readStringsXMLAsync(stringsPath);
    const stringItemToAdd = [{ _: name, $: { name: 'app_name' } }];
    stringsJSON = Strings_1.setStringItem(stringItemToAdd, stringsJSON);
    try {
        await Strings_1.writeStringsXMLAsync(stringsPath, stringsJSON);
    }
    catch (e) {
        throw new Error(`Error setting name. Cannot write strings.xml to ${stringsPath}.`);
    }
    return true;
}
exports.setName = setName;
//# sourceMappingURL=Name.js.map